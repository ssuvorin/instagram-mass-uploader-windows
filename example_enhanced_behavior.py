#!/usr/bin/env python
"""
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤ bulk upload
"""

import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –ø—É—Ç—å
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from uploader.human_behavior_config import get_behavior_config
from uploader.human_behavior import get_behavior_monitor
from uploader.constants import TimeConstants

def demo_enhanced_behavior():
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è"""
    
    print("[START] –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –¥–ª—è bulk upload\n")
    
    # 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è
    print("1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è:")
    config = get_behavior_config()
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    summary = config.get_summary()
    print(f"   üìä –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å: {summary['profile_type']}")
    print(f"   ‚ö° –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏: {summary['typing_speed']}x")
    print(f"   [FAIL] –ß–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫: {summary['error_rate']*100:.1f}%")
    print(f"   [PAUSE]  –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ä—ã–≤–æ–≤: {summary['break_probability']*100:.1f}%")
    
    # 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π
    print("\n2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π –ø–æ–≤–µ–¥–µ–Ω–∏—è:")
    
    profiles = [
        ('stealth', '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ–∫–∞'),
        ('fast_worker', '–ë—ã—Å—Ç—Ä—ã–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π'),
        ('casual_user', '–ù–µ—Å–ø–µ—à–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'),
        ('night_owl', '–ù–æ—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞')
    ]
    
    for profile_name, description in profiles:
        print(f"   üé≠ {profile_name}: {description}")
    
    # 3. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç–µ–ª—Å-—Ä–µ–∂–∏–º–∞
    print("\n3Ô∏è‚É£ –í–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–µ–ª—Å-—Ä–µ–∂–∏–º–∞:")
    config.enable_stealth_mode()
    
    stealth_summary = config.get_summary()
    print(f"   ü•∑ –°—Ç–µ–ª—Å-—Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!")
    print(f"   üìà –ù–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—á–∞—Ç–∏: {stealth_summary['typing_speed']}x")
    print(f"   üìà –ù–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞ –æ—à–∏–±–æ–∫: {stealth_summary['error_rate']*100:.1f}%")
    
    # 4. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫
    print("\n4Ô∏è‚É£ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫:")
    
    time_scenarios = [
        (2, "–ù–æ—á—å", "–û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ"),
        (9, "–£—Ç—Ä–æ", "–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ"),
        (14, "–î–µ–Ω—å", "–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ"),
        (20, "–í–µ—á–µ—Ä", "–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ")
    ]
    
    for hour, period, behavior in time_scenarios:
        print(f"   üïê {hour:02d}:00 ({period}): {behavior}")
    
    # 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–≤–µ–¥–µ–Ω–∏—è
    print("\n5Ô∏è‚É£ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è:")
    monitor = get_behavior_monitor()
    
    # –°–∏–º—É–ª–∏—Ä—É–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    print("   üìä –°–∏–º—É–ª—è—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π...")
    
    for i in range(10):
        success = i % 3 != 0  # 70% —É—Å–ø–µ—à–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
        duration = 1.0 + (i * 0.1)  # –£–≤–µ–ª–∏—á–∏–≤–∞—é—â–∞—è—Å—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
        monitor.record_action(f'action_{i}', duration, success, {'video_index': i})
    
    # –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    recommendations = monitor.get_recommendations()
    print("   üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:")
    for rec in recommendations:
        print(f"      ‚Ä¢ {rec}")
    
    # 6. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –∑–∞–¥–µ—Ä–∂–µ–∫
    print("\n6Ô∏è‚É£ –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫:")
    
    # –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á–µ—Ç–∞ –∑–∞–¥–µ—Ä–∂–µ–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
    scenarios = [
        (1, 5, 0, 0, "–ü–µ—Ä–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç"),
        (3, 5, 2, 1, "–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Å –æ—à–∏–±–∫–∞–º–∏"),
        (5, 5, 3, 2, "–ü–æ—Å–ª–µ–¥–Ω–∏–π –∞–∫–∫–∞—É–Ω—Ç")
    ]
    
    # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–Ω–∞ —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω–∞)
    try:
        from uploader.bulk_tasks_playwright import get_enhanced_account_delay
        
        for current, total, success, failed, description in scenarios:
            delay = get_enhanced_account_delay(current, total, success, failed)
            print(f"   ‚è±Ô∏è  {description}: {delay:.1f}s")
    except ImportError:
        print("   [WARN]  –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –∑–∞–¥–µ—Ä–∂–µ–∫ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ")
    
    # 7. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
    print("\n7Ô∏è‚É£ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:")
    config.optimize_for_time_period(9, 17)  # –†–∞–±–æ—á–∏–µ —á–∞—Å—ã
    
    # 8. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    print("\n8Ô∏è‚É£ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:")
    config.save_config()
    print("   üíæ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ human_behavior_config.json")
    
    # 9. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–ª—É—á—à–µ–Ω–∏—è
    print("\n‚ú® –†–ï–ó–Æ–ú–ï –£–õ–£–ß–®–ï–ù–ò–ô:")
    improvements = [
        "[BRAIN] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π, –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π, –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π, —Å–ª—É—á–∞–π–Ω—ã–π)",
        "üïê –ó–∞–¥–µ—Ä–∂–∫–∏, –∞–¥–∞–ø—Ç–∏—Ä—É—é—â–∏–µ—Å—è –∫ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫",
        "üí™ –°–∏–º—É–ª—è—Ü–∏—è —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –∑–∞–º–µ–¥–ª–µ–Ω–∏—è",
        "[TARGET] –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ä—ã–≤—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏",
        "[FAIL] –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –æ—à–∏–±–æ–∫ —Å —Å–æ—Å–µ–¥–Ω–∏–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏",
        "üñ±Ô∏è –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏ —Å –∑–∞–∫–æ–Ω–æ–º –§–∏—Ç—Ü–∞",
        "üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏",
        "‚öôÔ∏è –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ JSON —Ñ–∞–π–ª—ã",
        "üé≠ –†–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á",
        "[RETRY] –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –æ–±—É—á–∞—é—â–∞—è—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"
    ]
    
    for improvement in improvements:
        print(f"   {improvement}")
    
    print(f"\n[PARTY] –°–∏—Å—Ç–µ–º–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–∞!")
    print(f"[TOOL] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª–µ uploader/human_behavior_config.json")

if __name__ == "__main__":
    demo_enhanced_behavior() 